webpackJsonp([6],{"0hes":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAiCAYAAAAH1WqkAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAPqADAAQAAAABAAAAIgAAAACAM1B4AAAIIElEQVRoBeWZeYzdUxTHv/fNe290VMZW1aLWNoo2qASxlVoiQglqX5KGoKV2JRGVSMS+tCVI/GNNSxBriViaRlXaRijS0apBaUeHWsa8mXlzfc79ve335r038xqxzZn85ve795577vnes9zz+z1pkJKrF7efpYTWqVmbqUleKTna/wR59bJ2tzrVoeHa6GbRroMGBNyLJa7WjurSaJ6GB/lOWZZi6B+kBNp4NQQNPOZIq0X36ltA9atXv8D95dodMfuzRBqoX6tRXymjjdpOHfXu8l+9RcH71uN5jXhgRruyBTujaxe6LnOztarWelWBA7gRoEcqqWEIWK7vtdLNR+i/mPzpGGeExqDifupRGxvxDhuQqaRyReD+Um1F9B5H9G5k99519+mPSpP/rX3+Kg3B8hMJxWaywAL3sH4q17UPcH+ltmTCZKy9UnO02FkU/QfJe0w2XQdh9TEY8CV3v34uhREDHtzb6RSLZTdXH5Qy9veMl+xGWIyF74v+4quaLNYfxjYPdXPII2UUrNitw4HzA/I/Lhuu2vTTdHAu9l8odfvCUYRZzbZHYe2NmqvFVSVVG3CaRIS9wvCt1Vj67fe6hBD7yE/XyX14PZ7o9Br9s/uM1eowLIYJbAFjjrdg8ZC9pUOw2vxqMZ1LeDuhQIJdjIeA1zbIfJErzdgJpME2ZBXkh/WytDfX9+5O/Zpbv3DLWXQJkvdE8vkM7MWVCgxmkl7kO13EUyv3ZwoTE8yQXnEP6P1CX9lDkN2j0+lelPfGpPGQDRsQNgEXX1oNdE7WXizzNrxNKJIn24BOLisotgasSCgL4esOPXkuu5uKnbqQ/89yxSmrI9BiH3R4Hb4fGHwaeUWyubam0yjGbygM2HoZtfO/KnDDhMsvRf4EsK7hdMoG4BqpHRCaIsJaCgIrP/xC9wJ2vTE3bKBNpeNRyPpeBW4Hz1FRYSqJZ6vwjCLuteG5/J9Z2bTpZVO21iKccx9amSAhzeGUZcPSugVPuh35j3KPdE+wrtP6cnF92oZtg/YNWKXWaLKnIvPsxKza53TOTc4qFeqv0HksPBmFH2d8an4sFBc/6iTaq0hWn+T7K90JoSOQcTKrG5xPTQ9/PS7doUtpNwTYTocGi4ss3aMpod+EZfSke4iw6oeCzOlaA87RsLYmg5t76jCHe9ZJuM+BzHsQhb5k6szY9DZ2t4FY9FrlZ2gSMbguNp5r+Ms0FJ674R2CnE6uyMF/pxRp0B3Bn4zX3Lybv4ROheNUxiLq1TIevsm1at8clafXYYY5gZNvEbiz8XOutgS8drrGsfhT8GUQdjbWLuw6Hm3pbwWWmYOT7839kZAYy4Tm+GbCc0AAVjpu6czeBbLkFLGWNB6pE+gZT/9YtuDZMMfeGQZKeYxgTqJUE0p61B5wdYZ7n8Ja9wN8FPMtw45jI45GsW153g5pdg1H7oigXCoURNcxdhtXkWZoJ9S+Chmt8FuCMoClZNB3RsZUZBdTnWdGAvCWM+ohwziCWWBOcksh2FumG7AMTzJrBLSlLq/T+H9WUMvsI/3O81r6N/D8EYtsoH0Cis7E6gvxjPfoj+gPUlgjYeJ0Ix1nMmff/FDubg4+krnl57pB3hb+usgwYiDPXypKbnVNh7lB95GGlvDUjtLdCOriWssWtrOJPVzjSD7tlIkWfxYWF6P8I/SfSLMIfCTnebtOcw+qBS+6EBlxckiU3mTeBbGBNJzdupM1ptZhrpgIKzEsYTgL+IFaHUCfI8UukeDuZv4ZXEdzXn5HsbAb0J9jaJmfp2PcFFRL6QlWWc99gc3JE5nWLFr9CO0Nuk1Exw/zc8LdttoRTj20igEQY6nUCInc3uGRm2TXOlDNcYYPgfm3ShNq9jmqPWl7oifKEdmQbxtRLa3PIrVyRZFVdfWRpUgfzui3YhMtodnbV4LEWe4lMcayxhbkMyMwJ/Ud7rY9jQZq4TqB+0s4E1woMb8AtsV0RFZi2lVCNJyuVHP5W1IJS6VHqyhbsOxdKFu0bSqc+M301Ad8c15TTTMwJ4J7W+Vj2bNeSpLU0uHlYaF7gqRWi65lt7N6jwR3T3C5WrzFMcsdxwJ6FV1WK0RXV6jXz0VefWQYwWqYrdw0W7Rw7UK1lR6oJGL7TLzkZqLQAD9WmGdhE5Enhi0KI+oMu20WGq95IbbzI/G7OXdEGSSZnZfQMyV2ibaVzqZ9L9YfAAVsYERei7FHWX0txh8BhLZQzq2oJofJCb5ljGanpyEgOhh6NY2SdHnJHDvkLGntweYcA983zErScw7JrYFVVtT4uGFHTRMZ3krgXZBh22BZI15j2Lnh2FTb4oSOw4ua4XqH0rV6jjJstrphhQJwMz2TlyLkELLy6qpvaO24nTSfT8tDOcNXsthMPli8YIIKtJ6vc8M5xtI6jPE3UTwi8yXLxgm9UeAtfbCvpVakeNJsr54Prx62fY4PCdLLpaxwRmSyk7oJXTLw20uNhUIfyr2WWtW3KIQ2HMVzfLZWY8MxKDcReW+wmXmVi4ISvNT3oFQGXs5lipE+9TeCuzi3L8ABz2PiSKSYXQzQb1zvU9kv4OpLfFlho9agkRU/ZzM/zQZEH48jGfE5JtFiPPrEbIFkr7J9CBB2YE9koI0CenWewZQqEFa3V7xN+vRUELKJD/7icNSk2Kpfc+f7JkqKTyPcKn56igG3KYPyY2N+rwbl5+UC+MH4g0IevN2J+8H1E1IMvGXVa8p+NLQPBdF5Xcr6dz9bTo+KsL/6R8NyJKGI+R/8TFyOa9C0/wThu/aCrVINhAAAAABJRU5ErkJggg=="},"3YqQ":function(t,e){},"6p7P":function(t,e){},Ahrf:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),r=s.n(i),n=s("Dd8w"),o=s.n(n),c=s("Au9i"),a=(s("vAZe"),{props:{item:{type:Object}},computed:{hasAddress:function(){return!!this.item},isDefault:function(){return!(!this.item||!this.item.is_default)},detailAddress:function(){var t="";if(this.item)for(var e=this.item.regions,s=0;s<e.length;s++){t+=e[s].name}return t+=this.item.address}},methods:{onclick:function(){this.$emit("onclick")}}}),l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",on:{click:t.onclick}},[i("div",{staticClass:"top-wrapper"},[t.hasAddress?i("div",{staticClass:"selected-wrapper"},[i("div",{staticClass:"title-wrapper"},[i("img",{staticClass:"icon",attrs:{src:s("YJpo")}}),t._v(" "),i("label",{staticClass:"title"},[t._v(t._s(t.item.name))]),t._v(" "),i("label",{staticClass:"title"},[t._v(t._s(t.item.mobile))]),t._v(" "),t.isDefault?i("label",{staticClass:"default"},[t._v("默认")]):t._e()]),t._v(" "),i("label",{staticClass:"desc address-text",staticStyle:{"-webkit-box-orient":"vertical"}},[t._v(t._s(t.detailAddress))])]):i("div",{staticClass:"unselected-wrapper"},[i("label",{staticClass:"desc"},[t._v("您还没有收获地址，点击这里添加。")])]),t._v(" "),i("img",{staticClass:"indicator",attrs:{src:s("TNrS")}})]),t._v(" "),i("img",{staticClass:"line-wrapper",attrs:{src:s("yD4C")}})])},staticRenderFns:[]};var u=s("VU/8")(a,l,!1,function(t){s("qjo5")},"data-v-e183d982",null).exports,d={props:{items:{type:Array}},computed:{getData:function(){new Array;var t=this.items?this.items.slice(0):null;return t&&t.length>=4?t.splice(0,4):t},getTotal:function(){return this.items&&this.items.length?this.items.length:0}},methods:{getPhotoUrl:function(t){var e=null;if(t&&t.product)if(t.product.default_photo)e=t.product.default_photo.thumb;else{var i=t.product.photos;if(i&&i.length){var r=i[0];r&&r.large?e=r.large:r.thumb&&(e=r.thumb)}}return e||(e=s("aVgn")),e},onclick:function(){this.$emit("onclick")}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",on:{click:t.onclick}},[i("div",{staticClass:"photo-wrapper"},t._l(t.getData,function(e,s){return i("img",{key:s,attrs:{src:t.getPhotoUrl(e)}})})),t._v(" "),i("div",{staticClass:"right-wrapper"},[i("label",{staticClass:"subtitle"},[t._v("共"+t._s(t.getTotal)+"件")]),t._v(" "),i("img",{staticClass:"indicator",attrs:{src:s("TNrS")}})])])},staticRenderFns:[]};var f=s("VU/8")(d,h,!1,function(t){s("RXGB")},"data-v-5c09b12c",null).exports,g={props:{title:{type:String},subtitle:{type:String},tips:{type:String}},computed:{isShowTips:function(){return!(!this.tips||!this.tips.length)}},methods:{onclick:function(){this.$emit("onclick")}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",on:{click:t.onclick}},[i("label",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),t.isShowTips?i("label",{staticClass:"tips"},[t._v(t._s(t.tips))]):t._e(),t._v(" "),i("label",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))]),t._v(" "),i("img",{staticClass:"indicator",attrs:{src:s("TNrS")}})])},staticRenderFns:[]};var v=s("VU/8")(g,p,!1,function(t){s("RDU6")},"data-v-0fc64133",null).exports,m=s("NYxO"),A=s("QTHg"),C={props:{default:"",maxUseScore:0},data:function(){return{value:this.default,currentScore:null,rule:null}},methods:o()({},Object(m.d)({saveScoreInfo:"saveScoreInfo",clearScoreInfo:"clearScoreInfo"}),{gotoPay:function(){location.href="http://pts.suoqoo.com/nh5/#/owners/pay"},onInput:function(){0==this.value.length?(this.value="",this.clearScoreInfo()):(this.value=parseInt(this.value),this.value>this.currentScore&&(this.value=this.currentScore),this.value>this.maxUseScore&&(this.value=this.maxUseScore),this.value<=0&&(this.value=0),this.saveScoreInfo(this.value))}}),created:function(){var t=this;Object(A.c)().then(function(e){t.currentScore=e.score,t.rule=e.rule},function(t){})}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"score-container"},[i("div",{staticClass:"score-header"},[i("label",{staticClass:"title"},[t._v("当前嘻格格积分余额：\n\t\t\t "),i("img",{staticStyle:{width:"31px",height:"20px",display:"inline-block","vertical-align":"bottom"},attrs:{src:s("0hes")},on:{click:t.gotoPay}})]),t._v(" "),this.currentScore?i("label",{staticClass:"score"},[t._v("现有"+t._s(this.currentScore)+"积分")]):i("label",{staticClass:"score"},[t._v("无可用积分")])]),t._v(" "),i("div",{staticClass:"score-header"},[t._m(0),t._v(" "),this.currentScore?i("label",{staticClass:"score"},[t._v("最多可用"+t._s(this.maxUseScore)+"积分(每积分抵扣"+t._s(this.rule)+"元)")]):i("label",{staticClass:"score"},[t._v("无可用积分")])]),t._v(" "),i("div",{staticClass:"bottom-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{disabled:!this.currentScore,placeholder:"在此输入积分"},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value)},t.onInput]}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"title"},[e("p",{staticStyle:{color:"red",display:"inline-block"}},[this._v("*")]),this._v("积分抵扣：")])}]};var I=s("VU/8")(C,b,!1,function(t){s("qYIn")},"data-v-51ec05d8",null).exports,G={props:{default:{type:String}},data:function(){return{value:this.default}},methods:o()({},Object(m.d)({saveCommentInfo:"saveCommentInfo"}),{onInput:function(){this.value&&this.saveCommentInfo({comment:this.value})}})},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-container"},[s("label",{staticClass:"title"},[t._v("买家留言：")]),t._v(" "),s("div",{staticClass:"bottom-wrapper"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{placeholder:"选填：对本次交易的说明（建议填写已和卖家协商一致的内容）"},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value)},t.onInput]}})])])},staticRenderFns:[]};var S=s("VU/8")(G,_,!1,function(t){s("QyIQ")},"data-v-69ff0dac",null).exports,y={props:{title:{type:String},subtitle:{type:String}}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("label",{staticClass:"title"},[this._v(this._s(this.title))]),this._v(" "),e("label",{staticClass:"subtitle"},[this._v(this._s(this.subtitle))])])},staticRenderFns:[]};var x=s("VU/8")(y,k,!1,function(t){s("6p7P")},"data-v-43bd66de",null).exports,P={data:function(){return{item:this.items[0]}},props:{items:{type:Array}},computed:{getPhotoUrl:function(){var t=null,e=this.item;if(e&&e.product){var i=e.product.photos;if(i&&i.length){var r=i[0];r&&r.large?t=r.large:r.thumb&&(t=r.thumb)}}return t||(t=s("aVgn")),t},getTitle:function(){return this.getItemByKey("name")},getDesc:function(){return this.getItemByKey("desc")},getScore:function(){return this.getItemByKey("exchange_score")}},methods:{getItemByKey:function(t){var e="",s=this.item;return s&&s.product&&(e=s.product[t]),e}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("img",{staticClass:"photo",attrs:{src:t.getPhotoUrl}}),t._v(" "),s("div",{staticClass:"right-wrapper"},[s("label",{staticClass:"title"},[t._v(t._s(t.getTitle))]),t._v(" "),s("label",{staticClass:"subtitle"},[t._v(t._s(this.item.property))]),t._v(" "),s("div",{staticClass:"desc-wrapper"},[s("label",{staticClass:"price"},[t._v(t._s(t.getScore)+"积分")]),t._v(" "),s("label",{staticClass:"count"},[t._v("x"+t._s(this.item.amount))])])])])},staticRenderFns:[]};var E=s("VU/8")(P,T,!1,function(t){s("XE9e")},"data-v-668fdd40",null).exports,B=s("J6os"),F=s("FWz8"),O=s("c+FZ"),U=s("UgCr"),w=s("oFZM"),K={components:{CheckoutAddress:u,CheckoutGoods:f,CheckoutItem:v,CheckoutScore:I,CheckoutComment:S,CheckoutDesc:x,CheckoutScoreGood:E},mixins:[s("qD/b").a],data:function(){return{order_price:null,maxUseScore:0,siteConfigs:{}}},watch:{score:function(t){this.getOrderPrice()}},computed:o()({},Object(m.e)({selectedAddress:function(t){return t.address.selectedItem},addressItems:function(t){return t.address.items},selectedShipping:function(t){return t.shipping.selectedItem},cashgiftTotal:function(t){return t.cashgift.total},selectedCashgift:function(t){return t.cashgift.selectedItem},invoice:function(t){return t.invoice},selectedDate:function(t){return t.delivery.selectedDate},selectedTime:function(t){return t.delivery.selectedTime},comment:function(t){return t.checkout.comment},cartGoods:function(t){return t.cart.cartGoods},isOnline:function(t){return t.auth.isOnline},user:function(t){return t.auth.user},score:function(t){return t.checkout.score}}),{isExchange:function(){return this.$route.params&&this.$route.params.isExchange&&"0"!=this.$route.params.isExchange?1:null},exchangeScore:function(){return this.$route.params&&this.$route.params.hasOwnProperty("exchangeScore")?this.$route.params.exchangeScore:null},isCart:function(){return this.$route.params&&this.$route.params.isCart?this.$route.params.isCart:null},getOrderProducts:function(){for(var t=this.cartGoods,e=[],s=0;s<t.length;s++){var i=t[s],r=new Object;r.goods_id=i.product?i.product.id:"",r.num=i.amount;var n=new Array,o=i.attrs?i.attrs.toString():null;if(o&&o.length){var c=o.indexOf("["),a=o.indexOf("]");c>-1&&a>-1&&c!==a&&(o=o.substring(c+1,a)),o.indexOf(",")>-1?n=o.split(","):n.push(o)}r.property=n,e.push(r)}return e},getCartGoodsIds:function(){var t=this.cartGoods,e=[];return t&&t.length&&(e=t.map(function(t){return t.id})),e},getShippingName:function(){var t=this.selectedShipping;return t&&t.name?t.name:"请选择配送方式"},getCashgiftName:function(){var t="",e=this.selectedCashgift;if(e&&e.name)t=e.name;else{var s=this.cashgiftTotal;t=s&&s>0?"未使用":"无可用"}return t},getCashgiftTips:function(){var t="";if(this.selectedCashgift)t="已选1张";else{var e=this.cashgiftTotal;t=e&&e>0?e+"张可用":""}return t},getInoviceTitle:function(){var t="";return this.invoice.isSave?this.getInoviceToggle?t="不要发票":this.invoice.type&&this.invoice.type.name&&(t=this.invoice.type.name):t="请选择发票类型",t},getInoviceToggle:function(){return this.invoice.toggle},getSelectedDateStr:function(){var t="",e=this.selectedDate,s=this.selectedTime;return e&&s&&(t=e+" "+s),t},getSelectedDateValue:function(){var t="",e=this.selectedDate,s=this.selectedTime;return e&&s&&(t=e+"/"+s),t},getPromos:function(){return this.getPriceByKey("promos")},getOrderTotalPrice:function(){return this.getFormatPrice("total_price")},getOrderProductPrice:function(){return this.getFormatPrice("product_price")},getOrderTaxPrice:function(){return this.getFormatPrice("tax_price")},getOrderShippingPrice:function(){var t=this.order_price?this.order_price.shipping_price:0;return parseFloat(t)>0?"￥ "+this.utils.currencyPrice(t):"免运费"}}),created:function(){this.fetchAddressList(),this.getOrderPrice(),this.getMaxUseScore(),this.siteConfigsGet()},methods:o()({},Object(m.d)({saveAddressItems:"saveAddressItems",selectAddressItem:"selectAddressItem",unselectAddressItem:"unselectAddressItem",unselectCashgiftItem:"unselectCashgiftItem",clearInvoiceInfo:"clearInvoiceInfo",unselectDelivery:"unselectDelivery",clearCommentInfo:"clearCommentInfo",clearSelectedCartGoods:"clearSelectedCartGoods",setCartNumber:"setCartNumber",clearScoreInfo:"clearScoreInfo"}),Object(m.b)({fetchShippingList:"fetchShippingList",fetchCashgiftUsable:"fetchCashgiftUsable"}),{stop:function(){document.body.style.overflow="hidden",document.addEventListener("touchmove",function(t){t.preventDefault()},!1)},getPriceByKey:function(t){var e="",s=this.order_price;return s&&s[t]&&(e=s[t]),e},getOrderDiscountPrice:function(t){return"-￥ "+(t.price?t.price:0)},getFormatPrice:function(t){var e=this.getPriceByKey(t);return"￥ "+(e?this.utils.currencyPrice(e):"0")},goBack:function(){var t=this;Object(c.MessageBox)({title:"",message:"好货不等人</br>请三思而行",showCancelButton:!0,cancelButtonText:"去意已决",cancelButtonClass:"cancel-button",confirmButtonClass:"confirm-button-red",confirmButtonText:"再想想"}).then(function(e){"cancel"===e&&(t.clearSelectedInfo(),t.$router.go(-1))})},clearSelectedInfo:function(){this.unselectAddressItem(),this.unselectCashgiftItem(),this.clearInvoiceInfo(),this.unselectDelivery(),this.clearCommentInfo(),this.clearSelectedCartGoods(),this.clearScoreInfo()},leftClick:function(){this.goBack()},rightClick:function(){},goAddress:function(){this.addressItems&&this.addressItems.length?this.$router.push({name:"addressList"}):this.$router.push({name:"addressEdit",query:{mode:"add",item:null,isFromCheckout:!0,goBackLevel:-1}})},goGoodsList:function(){this.$router.push({name:"goodsList"})},goShipping:function(){this.$router.push({name:"shipping"})},goInvoice:function(){var t=this.invoice?this.invoice.title:"",e=this.invoice?this.invoice.number:"";this.$router.push({name:"invoice",params:{title:t,number:e}})},onClickDate:function(t){},onClickTime:function(t){},goCashgiftList:function(){var t=this.order_price?this.order_price.product_price:null;this.$router.push({name:"cashgiftUsable",query:{shop:null,total_price:t}})},fetchAddressList:function(){var t=this;B.c().then(function(e){var s=e.consignees;t.saveAddressItems(s),t.loadShippingList()},function(t){Object(c.Toast)(t.errorMsg)})},loadShippingList:function(){var t=this;console.log("===================================="),console.log(this.getOrderProducts),console.log("====================================");var e=this.getOrderProducts?r()(this.getOrderProducts):null,s=this.selectedAddress?this.selectedAddress.id:null;this.fetchShippingList({shop:null,products:e,address:s}).then(function(e){t.getOrderPrice()},function(t){})},fetchCashgiftList:function(){var t=this.order_price?this.order_price.product_price:null;this.fetchCashgiftUsable({isFirstPage:!0,shop:null,total_price:t})},getOrderPrice:function(){var t=this,e=this.getOrderProducts?r()(this.getOrderProducts):null,s=this.selectedAddress?this.selectedAddress.id:null,i=this.selectedShipping?this.selectedShipping.id:null,n=this.selectedCashgift?this.selectedCashgift.id:null,o=this.isExchange?null:this.score,c=this.invoice&&this.invoice.type?this.invoice.type.id:null,a=this.isExchange;F.e(null,e,s,i,null,n,o,c,a).then(function(e){e&&e.order_price&&(t.order_price=e.order_price,t.fetchCashgiftList())},function(t){})},checkout:function(){var t=this,e=this.selectedAddress?this.selectedAddress.id:null,s=this.selectedShipping?this.selectedShipping.id:null,i=this.invoice&&this.invoice.type?this.invoice.type.id:null,n=this.invoice&&this.invoice.content?this.invoice.content.name:null,o=this.invoice?this.invoice.title:null,a=this.invoice?this.invoice.number:null,l=this.selectedCashgift?this.selectedCashgift.id:null,u=this.$refs.comment.value,d=this.score;if(null==d)return alert("请输入抵扣积分"),!1;if(0==d)return alert("输入积分必须大于0"),!1;this.getSelectedDateValue;var h=this.getCartGoodsIds?r()(this.getCartGoodsIds):null,f=this.$cookie.get("r")||0;if(null!==e&&void 0!==e)if(null!==s&&void 0!==s)if(c.Indicator.open(),this.isCart)O.b(null,e,s,i,n,o,a,null,l,u,d,h,f).then(function(e){c.Indicator.close(),e&&e.order&&(console.log(e),t.clearSelectedInfo(),t.getCartNumber(),0==e.order.total?t.goPaySucceed(e.order):t.$router.push({name:"payment",query:{order:e.order.id,total:e.order.total,orderSn:e.order.sn}}))},function(t){c.Indicator.close(),Object(c.Toast)(t.errorMsg)});else{var g=this.cartGoods[0],p=this.isExchange?this.exchangeScore:null;U.j(null,g.goods_id,g.attrs,g.amount,e,s,i,o,n,null,l,u,d,p,f).then(function(e){c.Indicator.close(),e&&e.order&&(t.clearSelectedInfo(),t.getCartNumber(),0==e.order.total?t.goPaySucceed(e.order):t.$router.push({name:"payment",query:{order:e.order.id,total:e.order.total,orderSn:e.order.sn}}))},function(t){c.Indicator.close(),Object(c.Toast)(t.errorMsg)})}else Object(c.Toast)("请选择配送方式");else Object(c.Toast)("请填写收货地址")},goPaySucceed:function(t){this.$cookie.set("orderid",t.id),this.$router.push({name:"paySucceed",query:{order:t.id,isExchange:this.isExchange}})},getCartNumber:function(){var t=this;Object(O.f)().then(function(e){e&&t.setCartNumber(e.quantity)})},getMaxUseScore:function(){for(var t=0;t<this.cartGoods.length;++t)this.maxUseScore+=this.cartGoods[t].product.score*this.cartGoods[t].amount},siteConfigsGet:function(){var t=this,e=["can_invoice","use_integral"];e=r()(e),c.Indicator.open(),Object(w.a)(e).then(function(e){c.Indicator.close(),t.siteConfigs=e},function(t){c.Indicator.close(),Object(c.Toast)(t.errorMsg)})}})},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("mt-header",{staticClass:"header",attrs:{fixed:"",title:"确认订单"}},[s("header-item",{attrs:{slot:"left",isBack:!0},on:{onclick:t.leftClick},slot:"left"})],1),t._v(" "),s("div",{staticClass:"body"},[s("checkout-address",{staticClass:"address",attrs:{item:t.selectedAddress},on:{onclick:t.goAddress}}),t._v(" "),this.isExchange?s("checkout-score-good",{staticClass:"section-header section-footer",attrs:{items:t.cartGoods}}):t._e(),t._v(" "),this.isExchange?t._e():s("checkout-goods",{staticClass:"goods section-header",attrs:{items:t.cartGoods},on:{onclick:t.goGoodsList}}),t._v(" "),s("checkout-item",{staticClass:"item",attrs:{title:"配送方式",subtitle:t.getShippingName},on:{onclick:t.goShipping}}),t._v(" "),this.isExchange||"1"!==this.siteConfigs.can_invoice?t._e():s("checkout-item",{staticClass:"item section-header",attrs:{title:"发票类型",subtitle:t.getInoviceTitle},on:{onclick:t.goInvoice}}),t._v(" "),this.isExchange||"1"!==this.siteConfigs.use_integral?t._e():s("checkout-score",{ref:"score",staticClass:"section-header",attrs:{default:t.score,maxUseScore:this.maxUseScore}}),t._v(" "),s("checkout-comment",{ref:"comment",staticClass:"comment section-header",attrs:{default:t.comment}}),t._v(" "),s("div",{staticClass:"desc section-header section-footer"},[s("checkout-desc",{staticClass:"desc-item",attrs:{title:"商品金额",subtitle:t.getOrderProductPrice}}),t._v(" "),s("checkout-desc",{staticClass:"desc-item",attrs:{title:"运费",subtitle:t.getOrderShippingPrice}}),t._v(" "),t._l(t.getPromos,function(e,i){return"cashgift"!=e.promo?s("checkout-desc",{key:i,staticClass:"desc-item",attrs:{title:t.getPromoTitle(e),subtitle:t.getOrderDiscountPrice(e)}}):t._e()})],2)],1),t._v(" "),s("div",{staticClass:"bottom-wrapper"},[s("div",{staticClass:"amount-wrapper"},[s("label",{staticClass:"amount"},[t._v("实付款: "+t._s(t.getOrderTotalPrice))])]),t._v(" "),s("gk-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:t.checkout}},[t._v("提交订单")])],1)],1)},staticRenderFns:[]};var L=s("VU/8")(K,N,!1,function(t){s("3YqQ")},"data-v-0ecf6aea",null);e.default=L.exports},QyIQ:function(t,e){},RDU6:function(t,e){},RXGB:function(t,e){},XE9e:function(t,e){},YJpo:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAMNQTFRFAAAAgKqqgJ+fgJWVgI+Ph4eHhoaGgIyMhoaGhYWFgIqKhYWPgImJhISOgImJgIiIhISMg4OJgIWKgISJgoKGgoKGgoKGgIKFgIKHfoOGfoOGfoOFfoOHfoOHgIKGfoOHf4KGf4KFgIGGgIGGgIGGf4KGf4KGfoKFfoKFf4KGfoKGfoKGf4GFf4GFf4GGfoKGf4GGfoKFf4GGf4GGf4GGfoKFfoKFfoKFfoKGf4GFfoKGfoKGf4GFfoKGf4GFfoKGfoGFwd8VsQAAAEB0Uk5TAAYIDBARExQVFxgZGhscHh8nMjQ7PT9aYGNlcXd5enuBl5ykqK2vsLKzvMLFy9PU2drb3eHi5Obw8/b4+fr9/knc+M8AAAFJSURBVDjLrVPZloIwDEUZ3MAFV0RwXBFRFBRlEfH+/1cNdfTYIjNP5iHNPb1p0vaG4z5ogmI4YegYipC7XdQDPCzQi+/7dRuwVJnnZdUC7Prb/hlu/wn6Ls4ZRtHGhqosbGCzVXS4TGeCC53BAe7n90zfN3v3KgjoDAUWWcY3codkTGILCkUwoJL8JNZEUYsTcoYKgyI4kFNvQiNAg5l6GQ5FCMGn3odIgAg/9TxCihDhK0sQEFEED+1siTY8irDGINvkAGuKMMKKLN/J65orjChCOb5W2IeqXOMy/ZQLTNjPmWDB4C6iFo1bEbpsxhxLGi4xz+ihGmD4QkME1axiFFw6z7hzYX7qYVN40m8keZjmiLawhXvXWd3FtpAn69IehwbHNQ7Yl/LnonbAsdk8wq39NTnSDqcTdtI/s7UBo+6cTmezAvdp+wGlJy5rKJ98dQAAAABJRU5ErkJggg=="},"qD/b":function(t,e,s){"use strict";var i=s("VU/8")({methods:{getPromoTitle:function(t){var e=null;switch(t.promo){case"preferential":e="优惠金额";break;case"cashgift":e="红包";break;case"score":e="积分";break;case"order_reduction":e="订单促销";break;case"goods_reduction":e="商品促销";break;case"coupon_reduction":e="优惠券";break;case"combined_promos":e="团购";break;case"transportTitle":e="运费"}return e}}},null,!1,null,null,null);e.a=i.exports},qYIn:function(t,e){},qjo5:function(t,e){},yD4C:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAu4AAAAEBAMAAAAjc6c0AAAABGdBTUEAALGPC/xhBQAAADBQTFRFGI/JLJnOZbXbstrt5Vp+6GiJ6YA+64tO7Pb77pGp8at/98jU+NW//fL1/vXw////iKP+mAAAAHtJREFUOMtjYIAA4f9I4FUaBqhBlr/pggGikeWbGDDAqPlYzWfqRxL+U4ZhbNZ7JPnfIRjGet5Hkv8sgOHsUfOxms9ojyT8bxmGsennkeT/TsEw1nU/kvwPBQxnj5qP3XwN5FxwHDMXrUOW34qZi+Yiyxti5tJR89HNBwDF5y+m+sNlKQAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=6.31f3dbff654597682440.js.map